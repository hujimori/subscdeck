# テストデータ生成ガイド

## 概要
ページネーション機能をテストするために、1年分の利用履歴データを生成します。

## 手順

### 1. アプリケーションを起動してサブスクリプションを登録

```bash
# アプリケーションを起動
AWS_PROFILE=subscdeck-dev go run main.go
```

1. ブラウザで http://localhost:8080 にアクセス
2. ログインしてダッシュボードへ
3. 少なくとも1つのサブスクリプションを登録（例: Netflix, Spotify など）

### 2. テストデータを生成

```bash
# アプリケーションを停止（Ctrl+C）

# テストデータ生成スクリプトを実行
go run cmd/generate_test_data/main.go
```

スクリプトは以下の処理を行います：
- 各サブスクリプションに対して過去1年分のデータを生成
- 平日は40%、週末は15%の確率で利用
- 夏季（6-8月）は利用頻度が増加
- 1日あたり1-3回のランダムな利用回数

### 3. アプリケーションを再起動して確認

```bash
# アプリケーションを再起動
AWS_PROFILE=subscdeck-dev go run main.go
```

1. ダッシュボードでサブスクリプションをクリック
2. 利用履歴サイドバーが表示される
3. ページネーションボタンで過去のデータを確認
   - 「← 前の3ヶ月」: より古いデータを表示
   - 「次の3ヶ月 →」: より新しいデータを表示

## 期待される結果

- 直近3ヶ月分のヒートマップが初期表示される
- ページネーションで過去1年分のデータを3ヶ月単位で閲覧可能
- 各月の利用パターンが視覚的に確認できる
- ツールチップで詳細な日付と利用回数が表示される

## トラブルシューティング

データが表示されない場合：
1. サブスクリプションが登録されているか確認
2. ログインしているユーザーIDとデータのユーザーIDが一致しているか確認
3. データベースファイル（subscdeck.db）が存在するか確認